<configuration>
  <configSections>
    <sectionGroup name="EsccWebTeam.Data.ActiveDirectory">
      <section name="GeneralSettings" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
    </sectionGroup>
    <sectionGroup name="EsccWebTeam.DatabaseFileControls">
      <section name="FileAttachmentSettings" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
      <section name="ImageSettings" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
    </sectionGroup>
    <sectionGroup name="EsccWebTeam.EastSussexGovUK">
      <section name="GeneralSettings" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
      <section name="BreadcrumbTrail" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
      <section name="Data" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
      <section name="DesktopMasterPages" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
      <section name="MobileMasterPages" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
      <section name="HttpReplaceOnRender" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
      <section name="HttpsReplaceOnRender" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
      <section name="RemoteMasterPage" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
    </sectionGroup>
    <sectionGroup name="EsccWebTeam.Egms">
      <section name="EgmsWebMetadata" type="EsccWebTeam.Egms.EgmsWebMetadataSectionHandler,EsccWebTeam.Egms, Version=1.0.0.0, Culture=neutral, PublicKeyToken=06fad7304560ae6f" requirePermission="false" />
      <section name="CssFiles" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
      <section name="ScriptFiles" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
    </sectionGroup>
    <sectionGroup name="EsccWebTeam.FormControls">
      <section name="ValidationSettings" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
    </sectionGroup>
    <sectionGroup name="EsccWebTeam.NavigationControls">
      <section name="Paging" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
      <section name="ProgressBar" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
    </sectionGroup>
    <sectionGroup name="applicationSettings" type="System.Configuration.ApplicationSettingsGroup, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
      <section name="EsccWebTeam.EastSussexGovUK.Properties.Settings" type="System.Configuration.ClientSettingsSection, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
      <section name="EsccWebTeam.ServiceClosures.Properties.Settings" type="System.Configuration.ClientSettingsSection, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
    </sectionGroup>
  </configSections>
  <applicationSettings>
    <EsccWebTeam.EastSussexGovUK.Properties.Settings>
      <setting name="EsccWebTeam_EastSussexGovUK_DeviceDetection_Service"
       serializeAs="String">
        <value>{URL of device detection web service}</value>
      </setting>
    </EsccWebTeam.EastSussexGovUK.Properties.Settings>
    <EsccWebTeam.ServiceClosures.Properties.Settings>
      <setting name="XmlFolder" serializeAs="String">
        <value>Path to school closures XML data file</value>
      </setting>
      <setting name="ShortNoticeDays" serializeAs="String">
        <value>5</value>
      </setting>
    </EsccWebTeam.ServiceClosures.Properties.Settings>
  </applicationSettings>
  <appSettings>
    <add key="SchoolUrl" value="https://hostname/educationandlearning/schools/schoolsearch/{0}.aspx" />
  </appSettings>
  <connectionStrings>
    <add name="CmsSupport" connectionString="connection string" />
    <add name="RedirectsReader" connectionString="connection string" />
  </connectionStrings>

  <EsccWebTeam.Data.ActiveDirectory>
    <GeneralSettings>
      <add key="DefaultDomain" value="domain" />
    </GeneralSettings>
  </EsccWebTeam.Data.ActiveDirectory>

      <EsccWebTeam.DatabaseFileControls>
    <FileAttachmentSettings>
      <add key="FileAttachmentHandlerUrl" value="/{0}/FileAttachmentHandler.ashx?fileid={1}" />
      <add key="MaximumFileSize" value="1048576" />
      <add key="FileEditPrompt" value="Attach file (eg flyer)&lt;br /&gt;Maximum size: 1MB&lt;br /&gt;Maximum files: six"/>
      <add key="ErrorUploadFileAttachmentSize" value="Your file attachment is too big. It must be less than 1MB." />
      <add key="ErrorUploadFileAttachmentCount" value="A maximum of &lt;strong&gt;{0}&lt;/strong&gt; {1} can be attached to an event. You have already attached {0} {1}."/>
      <add key="ErrorUploadFileAttachmentFormat" value="Your file attachment is the wrong type - it must be one of the following: Word, Excel or PowerPoint Office document; PDF or RTF document; JPEG, GIF or PNG image." />
    </FileAttachmentSettings>
    <ImageSettings>
      <add key="ImageHandlerUrl" value="/{0}/ImageHandler.ashx?imageid={1}" />
      <add key="ImageExampleUrl" value="/wres/events/your-image-here.gif" />
      <add key="ImageMaximumWidth" value="150" />
      <add key="ImageMaximumHeight" value="150" />
      <add key="ImageMaximumFileSize" value="20480" />
      <add key="ErrorUploadImageSize" value="Your picture is too big. It must be 150 pixels wide by 150 pixels high, or smaller." />
      <add key="ErrorUploadSize" value="Your picture is too big. It must be less than 20K." />
      <add key="ErrorUploadFormat" value="Your picture is the wrong type - it must be a JPEG, GIF or PNG" />
      <add key="ErrorImageDescLength" value="Your picture description must be 250 characters or fewer" />
      <add key="ErrorImageDescriptionRequired" value="Please add a short description of the image and select your picture again" />
      <add key="ImageEditPrompt" value="Picture" />
      <add key="ImageAdvicePixels" value="Your picture or photo can be up to 150 pixels wide by 150 pixels high." />
      <add key="ImageAdviceBytes" value="Your picture file size must be under 20K." />
      <add key="ImageDescEditPrompt" value="Description of picture" />
      <add key="ImageExampleAlt" value="Your picture could go here (maximum size 150 x 150 pixels)" />
    </ImageSettings>
  </EsccWebTeam.DatabaseFileControls>
  <EsccWebTeam.EastSussexGovUK>
    <GeneralSettings>
      <add key="MasterPageParameterName" value="template" />
      <add key="DesktopMasterPage" value="{~/path/to/Desktop.master}" />
      <add key="MobileMasterPage" value="{~/path/to/Mobile.master}" />
      <add key="FullScreenMasterPage" value="{~/path/to/FullScreen.master}" />
      <add key="PlainMasterPage" value="{~/path/to/Plain.master}" />
      <!--<add key="BaseUrl" value="http://www.eastsussex.gov.uk" />-->
      <add key="ErrorControlUrl" value="~/masterpages/controls/error{0}.ascx" />
    </GeneralSettings>
    <!-- Breadcrumb trail can be specified in web.config 
		<BreadcrumbTrail>
			<add key="Top level section" value="/toplevelsection/default.htm" />
			<add key="Sub-section" value="/toplevelsection/subsection/default.htm" />
			<add key="Specific page" value="" />
		</BreadcrumbTrail>-->
    <DesktopMasterPages>
      <add key="/special-channel" value="{~/path/to/customised.master}" />
      <add key="/" value="{~/path/to/default.master}" />
    </DesktopMasterPages>
    <!-- Having this separate section for mobile.master somehow gets roadworks showing the right map for mobile -->
    <MobileMasterPages>
      <add key="/special-channel" value="{~/path/to/customised.master}" />
      <add key="/" value="{~/path/to/default.master}" />
    </MobileMasterPages>
    <Data>
      <add key="HCalendarPrepareXslt" value="~/masterpages/data/hcalendar.xslt" />
      <add key="HCalendarXslt" value="~/masterpages/data/xhtml2vcal.xsl" />
      <add key=".calendar" value="~/masterpages/data/calendar.aspx?url={0}" />
      <add key=".ics" value="~/masterpages/data/hcalendar.ashx?url={0}" />
      <!-- <add key="TransformHosts" value="requestFrom=requestTo;hostname=hostname2" />-->
    </Data>
    <HttpReplaceOnRender>
      <!-- ENABLE ON LIVE TO LOAD IMAGES FROM COOKIE-FREE ALTERNATIVE DOMAIN. DO NOT ENABLE ON DEV OR STAGING.
			<add key="REGEX: src=&quot;(http://www.eastsussex.gov.uk)?(/[A-Za-z0-9]+[^>]*\.)(jpg|gif|png)&quot;" value=" src=&quot;//static2.eastsussexcc.gov.uk$2$3&quot;" />-->
    </HttpReplaceOnRender>
    <HttpsReplaceOnRender>
    </HttpsReplaceOnRender>
    <!-- Settings for loading template from remote location rather than having copy of components locally.-->
    <RemoteMasterPage>
      <add key="CorsAllowedOrigins" value="https://example.eastsussex.gov.uk" />
      <!--<add key="CacheMinutes" value="60" />
			<add key="MasterPageControlUrl" value="http://hostname/path/to/control.aspx?control={0}" />-->
    </RemoteMasterPage>
  </EsccWebTeam.EastSussexGovUK>
  <!-- Sitewide scripts and CSS files -->
  <EsccWebTeam.Egms>
    <EgmsWebMetadata creator="Web Team, East Sussex County Council, County Hall, Lewes, BN7 1SG. Phone: 01273 335061" errorMode="On" wcagLevel="AA" lgilType="Providing information" copyrightUrl="http://www.eastsussex.gov.uk/about/copyright/" openSearchUrl="http://www.eastsussex.gov.uk/search/opensearch.xml" openSearchTitle="East Sussex County Council" titlePattern="{0} &amp;#8211; East Sussex County Council" hasTouchIcon="true" facebookAppId="169406409819518" siteName="East Sussex County Council" siteImageUrl="http://www.eastsussex.gov.uk/apple-touch-icon-precomposed-72x72.png" openGraphType="article" windowsTileIconUrl="/windows-tile.png" windowsTileColour="#ffffff" twitterAccount="@eastsussexcc" />
    <ScriptFiles>
      <add key="HandlerPath" value="/js/{0}-{1}-v2.jsx" />
      <!-- LIVE settings SHOULD be as follows, but they're not because of an issue with IE6 and www.eastsussex.gov.uk being 
					 in the Trusted Zone on ESCC PCs. They can be changed to this once IE6 has finally died.
					 <add key="HandlerPath" value="http://static2.eastsussexcc.gov.uk/js/{0}.jsx" />
					 <add key="HttpsHandlerPath" value="https://www.eastsussex.gov.uk/js/{0}.jsx" />
			-->
      <add key="HandlerPlaceholder" value="javascript" />
    </ScriptFiles>
    <CssFiles>
      <add key="HandlerPath" value="/css/{0}-{1}-v2.cssx" />
      <!-- LIVE settings SHOULD be as follows, but they're not because of an issue with IE6 and www.eastsussex.gov.uk being 
					 in the Trusted Zone on ESCC PCs. They can be changed to this once IE6 has finally died.
					 <add key="HandlerPath" value="http://static1.eastsussexcc.gov.uk/css/{0}.cssx" />
					 <add key="HttpsHandlerPath" value="https://www.eastsussex.gov.uk/css/{0}.cssx" />
			-->
      <add key="HandlerPlaceholder" value="css" />
      <add key="Medium" value="only screen and (min-width: 474px)" />
      <add key="Large" value="only screen and (min-width: 802px)" />
    </CssFiles>
  </EsccWebTeam.Egms>

  <!-- Settings for standard form controls -->
  <EsccWebTeam.FormControls>
    <ValidationSettings>
      <add key="WebImageMimeTypes" value="image/jpeg;image/pjpeg;image/gif;image/x-png;image/png" />
      <add key="WebFileAttachmentMimeTypes" value="application/msword;application/vnd.openxmlformats-officedocument.wordprocessingml.document;application/pdf;application/rtf;application/vnd.ms-excel;application/ms-excel;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;application/vnd.ms-powerpoint;application/vnd.openxmlformats-officedocument.presentationml.presentation;image/jpeg;image/pjpeg" />
      <add key="AddressFieldFormat" value="^[\w*\d*\s*'-./\\*]+$" />
    </ValidationSettings>
  </EsccWebTeam.FormControls>
  <system.web>
    <customErrors mode="RemoteOnly" defaultRedirect="/help/messages/500.htm">
      <error statusCode="404" redirect="/help/messages/404.aspx" />
      <error statusCode="500" redirect="/help/messages/500.htm" />
      <error statusCode="503" redirect="/help/messages/500.htm" />
    </customErrors>
    <httpCookies httpOnlyCookies="true" />
    <httpRuntime maxRequestLength="51200" enableVersionHeader="false" />
    <authentication mode="Windows" />
    <authorization>
      <allow users="*" />
    </authorization>
    <globalization fileEncoding="utf-8" />
    <compilation batch="false" debug="true" />
    <pages enableSessionState="true" enableViewState="true" enableViewStateMac="true" validateRequest="true" masterPageFile="~/masterpages/mobile.master">
      <controls>
        <add tagPrefix="EastSussexGovUK" namespace="EsccWebTeam.EastSussexGovUK" assembly="EsccWebTeam.EastSussexGovUK, Version=1.0.0.0, Culture=neutral, PublicKeyToken=06fad7304560ae6f" />
        <add tagPrefix="EastSussexGovUK" namespace="EsccWebTeam.EastSussexGovUK.MasterPages.Controls" assembly="EsccWebTeam.EastSussexGovUK, Version=1.0.0.0, Culture=neutral, PublicKeyToken=06fad7304560ae6f" />
        <add tagPrefix="EastSussexGovUK" tagName="Share" src="{~/path/to/share.ascx}" />
        <add tagPrefix="EastSussexGovUK" tagName="Related" src="{~/path/to/related.ascx}" />
        <add tagPrefix="HouseStyle" namespace="EsccWebTeam.HouseStyle" assembly="EsccWebTeam.HouseStyle, Version=1.0.0.0, Culture=neutral, PublicKeyToken=06fad7304560ae6f" />
        <add tagPrefix="Metadata" namespace="Escc.Web.Metadata" assembly="Escc.Web.Metadata, Version=1.0.0.0, Culture=neutral, PublicKeyToken=06fad7304560ae6f" />
        <add tagPrefix="NavigationControls" namespace="EsccWebTeam.NavigationControls" assembly="EsccWebTeam.NavigationControls, Version=1.0.0.0, Culture=neutral, PublicKeyToken=06fad7304560ae6f" />
        <add tagPrefix="ServiceClosures" assembly="EsccWebTeam.ServiceClosures, Version=1.0.0.0, Culture=neutral, PublicKeyToken=06fad7304560ae6f" namespace="EsccWebTeam.ServiceClosures" />
      </controls>
    </pages>
  </system.web>
  <system.webServer>
    <handlers>
      <remove name="iCalendar pre-download page" />
      <remove name="iCalendar download" />
      <add name="iCalendar pre-download page" path="*.calendar" verb="*" modules="IsapiModule" scriptProcessor="C:\Windows\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" resourceType="Unspecified" preCondition="integratedMode,runtimeVersionv4.0,bitness32" />
      <add name="iCalendar download" path="*.ics" verb="*" modules="IsapiModule" scriptProcessor="C:\Windows\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" resourceType="Unspecified" preCondition="integratedMode,runtimeVersionv4.0,bitness32" />
      <add name="JS Files" path="*.jsx" verb="GET" modules="IsapiModule" scriptProcessor="C:\Windows\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" resourceType="Unspecified" requireAccess="Script" preCondition="integratedMode,bitness32" />
      <add name="CSS Files" path="*.cssx" verb="GET" modules="IsapiModule" scriptProcessor="C:\Windows\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" resourceType="Unspecified" requireAccess="Script" preCondition="integratedMode,bitness32" />
    </handlers>
    <modules>
      <add name="MasterPageModule" type="EsccWebTeam.EastSussexGovUK.MasterPages.MasterPageModule, EsccWebTeam.EastSussexGovUK, Version=1.0.0.0, Culture=neutral, PublicKeyToken=06fad7304560ae6f" />
      <add name="RewriteByExtensionModule" type="EsccWebTeam.EastSussexGovUK.MasterPages.Data.RewriteByExtensionModule, EsccWebTeam.EastSussexGovUK, Version=1.0.0.0, Culture=neutral, PublicKeyToken=06fad7304560ae6f" />
      <add name="RedirectsModule" type="Escc.Redirects.RedirectsModule" />
    </modules>
  </system.webServer>
</configuration>
